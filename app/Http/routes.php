<?php



Route::get('/home',['as'=>'home','uses'=>'BookController@index']);
Route::get('contactus','HomeController@contactus');

//Route::resource('user','UserController');
Route::controllers([
    'auth' => 'Auth\AuthController',
    'password' => 'Auth\PasswordController',
]);


/***************************************************************************************************
 * Localization
 * 1- middle ware created Locale
 *      - check Session::get('local') - if not - enforce the app to en - if true switch the app()->
 * 2- register the middleware globally
 * 3- LanguageController@changelang($lang) to switch the Session::put('locale')
 *
 ***************************************************************************************************/

Route::get('/lang/{lang}',['uses'=>'LanguageController@changeLocale']);

/***************************************************************************************************
 * Book
 ***************************************************************************************************/

//Route::resource('book','BookController');

/***************************************************************************************************
 * Category
 ***************************************************************************************************/

Route::resource('category','CategoryController',['only'=>'index','show']);


/***************************************************************************************************
 *
 ***************************************************************************************************/




/***************************************************************************************************
  *                                          CMS
 *
 ***************************************************************************************************/


Route::group(['prefix'=>'admin','middleware'=>'auth'],function () {

    /***************************************************************************************************
     * Book
     ***************************************************************************************************/

    Route::get('/','Admin\AdminBookController@index');

    Route::resource('book','Admin\AdminBookController');

    /***************************************************************************************************
     * Category
     ***************************************************************************************************/
    Route::resource('category','Admin\AdminCategoryController');

    /***************************************************************************************************
     * Contact Us
     ***************************************************************************************************/
    Route::get('contactus/edit','Admin\AdminContactUsController@edit');
    Route::post('contactus','Admin\AdminContactUsController@update');
});


/***************************************************************************************************
 *
 ***************************************************************************************************/


/***************************************************************************************************
 *
 ***************************************************************************************************/


/***************************************************************************************************
 *
 ***************************************************************************************************/


/***************************************************************************************************
 *
 ***************************************************************************************************/